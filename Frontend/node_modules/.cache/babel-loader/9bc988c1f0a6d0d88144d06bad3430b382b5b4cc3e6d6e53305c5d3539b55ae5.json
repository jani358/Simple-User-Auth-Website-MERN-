{"ast":null,"code":"var _jsxFileName = \"D:\\\\2024 babies\\\\Simple-User-Auth-Website-YouTube-main\\\\Frontend\\\\src\\\\pages\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const [username, setUsername] = useState(\"\"); // State to store username input\n  const [password, setPassword] = useState(\"\"); // State to store password input\n  const navigate = useNavigate(); // Navigate from React Router\n\n  useEffect(() => {\n    // Fetch users when the component mounts\n    fetchUsers();\n  }, []);\n  const fetchUsers = () => {\n    // Fetch all registered users from the backend\n    axios.get(\"http://localhost:3001/register\").then(res => {\n      console.log(res.data); // Log the fetched users data\n    }).catch(error => {\n      console.error(\"Error fetching users:\", error); // Log any errors\n    });\n  };\n  const handleLogin = async event => {\n    event.preventDefault(); // Prevent default form submission behavior\n    try {\n      // Send a POST request to the backend for user login\n      const response = await axios.post(\"http://localhost:3001/login\", {\n        username,\n        password\n      });\n      const token = response.data.token; // Get the JWT token from the response\n\n      alert(\"Login successful\");\n\n      // Clear the input fields after successful login\n      setUsername(\"\");\n      setPassword(\"\");\n\n      // Fetch updated list of users\n      fetchUsers();\n\n      //  '/account' route\n      navigate(\"/account\");\n\n      // Reload the page to update user data\n      window.location.reload();\n\n      // Store the JWT token in localStorage for authentication\n      localStorage.setItem(\"token\", token);\n    } catch (error) {\n      console.log(\"Login Error\", error); // Log any errors during login\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full h-screen flex\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-[50%] h-[100%] bg-[#1a1a1a] text-white flex justify-center items-center\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"text-center border rounded-lg w-[600px] h-[400px] p-9\",\n        onSubmit: handleLogin // Call handleLogin function on form submission\n        ,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"w-[400px] h-[40px] rounded-xl bg-zinc-700 p-2\",\n          type: \"text\",\n          placeholder: \"Username\",\n          value: username,\n          onChange: e => setUsername(e.target.value) // Update username state on input change\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"w-[400px] h-[40px] rounded-xl bg-zinc-700 p-2\",\n          type: \"password\",\n          placeholder: \"Password\",\n          value: password,\n          onChange: e => setPassword(e.target.value) // Update password state on input change\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-[200px] h-[50px] border hover:bg-teal-900\",\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-[50%] h-[100%] flex justify-center items-center bg-teal-800\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl text-white\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"Pf1VUBJJLkhsmVtMBS2EwUoEOMU=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsxDEV","_jsxDEV","Login","_s","username","setUsername","password","setPassword","navigate","fetchUsers","get","then","res","console","log","data","catch","error","handleLogin","event","preventDefault","response","post","token","alert","window","location","reload","localStorage","setItem","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","_c","$RefreshReg$"],"sources":["D:/2024 babies/Simple-User-Auth-Website-YouTube-main/Frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction Login() {\n  const [username, setUsername] = useState(\"\"); // State to store username input\n  const [password, setPassword] = useState(\"\"); // State to store password input\n  const navigate = useNavigate(); // Navigate from React Router\n\n  useEffect(() => {\n    // Fetch users when the component mounts\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = () => {\n    // Fetch all registered users from the backend\n    axios\n      .get(\"http://localhost:3001/register\")\n      .then((res) => {\n        console.log(res.data); // Log the fetched users data\n      })\n      .catch((error) => {\n        console.error(\"Error fetching users:\", error); // Log any errors\n      });\n  };\n\n  const handleLogin = async (event) => {\n    event.preventDefault(); // Prevent default form submission behavior\n    try {\n      // Send a POST request to the backend for user login\n      const response = await axios.post(\"http://localhost:3001/login\", {\n        username,\n        password,\n      });\n      const token = response.data.token; // Get the JWT token from the response\n\n      alert(\"Login successful\");\n\n      // Clear the input fields after successful login\n      setUsername(\"\");\n      setPassword(\"\");\n\n      // Fetch updated list of users\n      fetchUsers();\n\n      //  '/account' route\n      navigate(\"/account\");\n\n      // Reload the page to update user data\n      window.location.reload();\n\n      // Store the JWT token in localStorage for authentication\n      localStorage.setItem(\"token\", token);\n    } catch (error) {\n      console.log(\"Login Error\", error); // Log any errors during login\n    }\n  };\n\n  return (\n    <div className=\"w-full h-screen flex\">\n      <div className=\"w-[50%] h-[100%] bg-[#1a1a1a] text-white flex justify-center items-center\">\n        <form\n          className=\"text-center border rounded-lg w-[600px] h-[400px] p-9\"\n          onSubmit={handleLogin} // Call handleLogin function on form submission\n        >\n          <label>Username</label>\n          <br />\n          <input\n            className=\"w-[400px] h-[40px] rounded-xl bg-zinc-700 p-2\"\n            type=\"text\"\n            placeholder=\"Username\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)} // Update username state on input change\n          />\n          <br />\n          <br />\n\n          <label>Password</label>\n          <br />\n          <input\n            className=\"w-[400px] h-[40px] rounded-xl bg-zinc-700 p-2\"\n            type=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)} // Update password state on input change\n          />\n          <br />\n          <br />\n\n          <button\n            className=\"w-[200px] h-[50px] border hover:bg-teal-900\"\n            type=\"submit\"\n          >\n            Login\n          </button>\n        </form>\n      </div>\n\n      <div className=\"w-[50%] h-[100%] flex justify-center items-center bg-teal-800\">\n        <h2 className=\"text-3xl text-white\">Login</h2>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}